!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Richang={})}(this,function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},i={isEmptyObject:function(t){for(var e in t)return!1;return!0},objectCopyToObject:function(t,r,n,o,i,a){if(void 0!=r)for(var f in t){void 0!=a&&a(t,r,f);void 0!=n&&n(f,t[f]);var c=f;void 0!=o&&(c=o(f,t[f])),void 0!=t[f]&&t[f].constructor===Object?("object"!==e(r[c])&&(r[c]={}),this.objectCopyToObject(t[f],r[c],n,o,i)):r[c]=void 0!=i?i(f,t[f]):t[f]}},getObjectValueByNames:function(t,e,r){for(var n,o=0;o<e.length-(r||0);o++)if(0==o){if(void 0==(i=t[e[o]]))return;n=i}else{var i;if(void 0==(i=n[e[o]]))return;n=i}return n},setObjectValueByNames:function(t,e,r){var n=e.length;if(1!=n)for(var o=t,i=null,a=0;a<n;a++){if(i=e[a],a==n-1)return void(o[i]=r);i in o?o=o[i]:(o[i]={},o=o[i])}else t[e[0]]=r},treeFind:function(t,e,r,n,o){if("function"==typeof e)var i=e;else i=function(t){return t.id==e};var a=function t(e,r,n,o,a){for(var f=[],c=[],u=0;u<e.length;u++){var l=e[u];if(i(l)&&(f.push(l),!o))return f;if(l[n])if(a){var s=t(l[n],r,n,o,a);if(!o&&s.length>0)return s;f=f.concat(s)}else c.push(l[n])}if(!a)for(u=0;u<c.length;u++){if(s=t(c[u],r,n,o,a),!o&&s.length>0)return s;f=f.concat(s)}return f}(t,i,r,n,o);return n?a:a.length>0?a[0]:null},treeEach:function(t,e,r,n){var o=[],i=0,a=0;return e||(e=function(t){}),function t(e,r,n,f,c){c>a&&(a=c);var u=[];for(var l=0;l<e.length;l++){i++,void 0==o[c]?o[c]=1:o[c]++;var s=e[l];if(r(s,c,o[c],i,e,l))return;if(s[n])if(f){var p=t(s[n],r,n,f,c+1);if(p)return}else u.push(s[n])}if(!f)for(var l=0;l<u.length;l++){var p=t(u[l],r,n,f,c+1);if(p)return}return}(t,e,r,n,0),{struct:o,deep:a+1,total:i}},pathEach:function(t,r,n){if(n){var i="function"==typeof n,a=new WeakMap;a.set(t,!i||[])}!function t(f){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var l in f){var s=f[l];if(n&&"object"===(void 0===s?"undefined":e(s))){var p=[].concat(o(c),[l]);if(a.get(s)){i&&n(s,p,a.get(s));continue}i?a.set(s,p):a.set(s,!0)}var p=[].concat(o(c),[l]);r(s,p,u),"object"===(void 0===s?"undefined":e(s))&&t(s,p,u+1)}}(t,[],0)}},a={left:function(t,e){return e>=0?t.substr(0,e):this.right(t,-e)},right:function(t,e){return e>=0?t.substr(t.length-e,e):this.left(t,-e)},insert:function(t,e,r,n){return t.slice(0,e)+n+t.slice(e+Math.abs(r))}},f={getType:function(t){var r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};return null===t?"null":void 0===t?"undefined":"object"===(void 0===t?"undefined":e(t))||"function"==typeof t?r[r.toString.call(t)]||"object":void 0===t?"undefined":e(t)}},c={symDifference:function(t,e){for(var r={},n=0;n<t.length;n++)r[t[n]]=!0;for(n=0;n<e.length;n++)void 0==r[e[n]]?r[e[n]]=!0:r[e[n]]=!1;var o=[];for(var i in r)0!=r[i]&&o.push(i);return o},symDifference_ObjectArray:function(t,e,r){for(var n={},o=0;o<t.length;o++)n[t[o][r]]={is:!0,ob:t[o]};for(o=0;o<e.length;o++)void 0==n[e[o][r]]?n[e[o][r]]={is:!0,ob:e[o]}:n[e[o][r]]={is:!1};var i=[];for(var a in n)0!=n[a].is&&i.push(n[a].ob);return i},difference:function(t,e){for(var r={},n=0;n<t.length;n++)r[t[n]]=!0;for(n=0;n<e.length;n++)void 0!=r[e[n]]&&(r[e[n]]=!1);var o=[];for(var i in r)0!=r[i]&&o.push(i);return o},union:function(t,e){for(var r={},n=0;n<t.length;n++)r[t[n]]=!0;for(n=0;n<e.length;n++)void 0==r[e[n]]&&(r[e[n]]=!0);var o=[];for(var i in r)0!=r[i]&&o.push(i);return o},intersection:function(t,e){for(var r={},n=0;n<t.length;n++)r[t[n]]=!1;for(n=0;n<e.length;n++)void 0!=r[e[n]]&&(r[e[n]]=!0);var o=[];for(var i in r)0!=r[i]&&o.push(i);return o},remove:function(t,e,r){if(r);else t=t.slice(0,t.length);for(var n=0;n<t.length;n++)e.constructor==Function?e(t[n])&&(t.splice(n,1),n--):t[n]==e&&(t.splice(n,1),n--);return t},hasMember:function(t,e,r){if(void 0==r){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}for(n=0;n<t.length;n++)if(r(t[n],e))return!0;return!1},getByKey:function(t,e,r,n){for(var o=0;o<t.length;o++)if(void 0!=t[o][e])if(void 0!=n){if(n(t[o][e],r))return t[o]}else if(t[o][e]==r)return t[o]},deleteByKey:function(t,e,r,n){for(var o=0;o<t.length;o++)void 0!=t[o][e]&&(void 0!=n?n(t[o][e],r)&&t.splice(o,1):t[o][e]==r&&t.splice(o,1))},sortObjectArray:function(t,r,n){if(void 0!=t&&void 0!=t.sort)return t.sort((o=r,function(t,r){var i,a;if("object"===(void 0===t?"undefined":e(t))&&"object"===(void 0===r?"undefined":e(r))&&t&&r)return i=t[o],a=r[o],i===a?0:(void 0===i?"undefined":e(i))===(void 0===a?"undefined":e(a))?n?i>a?-1:1:i<a?-1:1:(void 0===i?"undefined":e(i))<(void 0===a?"undefined":e(a))?-1:1;throw"error"}));var o}},u={rltb2xywh:function(t){var e={x:null,y:null,w:null,h:null};return e.x=t.left,e.y=t.top,e.h=t.bottom-t.top,e.w=t.right-t.left,e},xywh2rltb:function(t){var e={left:null,right:null,top:null,bottom:null};return e.left=t.x,e.top=t.y,e.right=t.x+t.w,e.bottom=t.y+t.h,e},paddingXywh:function(t,e){var r=u.xywh2rltb(t);return e.length&&4==e.length?(r.left-=e[0],r.top-=e[1],r.right+=e[2],r.bottom+=e[3],u.rltb2xywh(r)):(r.left-=e,r.top-=e,r.right+=e,r.bottom+=e,u.rltb2xywh(r))},getXywhsRange:function(t){for(var e={left:null,right:null,top:null,bottom:null},r=0;r<t.length;r++){var n=u.xywh2rltb(t[r]);void 0==e.left&&(e.left=n.left),void 0==e.top&&(e.top=n.top),void 0==e.right&&(e.right=n.right),void 0==e.bottom&&(e.bottom=n.bottom),n.left<e.left&&(e.left=n.left),n.top<e.top&&(e.top=n.top),n.right>e.right&&(e.right=n.right),n.bottom>e.bottom&&(e.bottom=n.bottom)}return u.rltb2xywh(e)},moveXywhs:function(t,e){for(var r=u.getXywhsRange(t),n=0;n<t.length;n++){var o=t[n];o.x=e.x+o.x-r.x,o.y=e.y+o.y-r.y}return t},xywhHasCover:function(t,e){var r=u.xywh2rltb(t),n=u.xywh2rltb(e);return!!(r.left<=n.right&&r.right>=n.left&&r.top<=n.bottom&&r.bottom>=n.top)}},l={CSS_POST:"background: rgb(44, 132, 226);border-radius: 2px 25px 25px 2px;padding: 2px 8px;color: rgba(255, 255, 255, 1);display: inline-block;min-width: 100px;",CSS_POST_RESULT:"background: rgb(51, 197, 138);border-radius: 25px 2px 2px 25px;padding: 2px 8px;color: rgba(255, 255, 255, 1);display: inline-block;min-width: 100px;"};function s(t,e){return t(e={exports:{}},e.exports),e.exports}for(var p=s(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}}),h=[],y=0;y<256;++y)h[y]=(y+256).toString(16).substr(1);var v=function(t,e){var r=e||0,n=h;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]};var d=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||p)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[n+i]=o[i];return e||v(o)};function b(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function g(t,e){return t<<e|t>>>32-e}var m,j,O,x=function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=new Array(n.length);for(var o=0;o<n.length;o++)t[o]=n.charCodeAt(o)}t.push(128);var i=t.length/4+2,a=Math.ceil(i/16),f=new Array(a);for(o=0;o<a;o++){f[o]=new Array(16);for(var c=0;c<16;c++)f[o][c]=t[64*o+4*c]<<24|t[64*o+4*c+1]<<16|t[64*o+4*c+2]<<8|t[64*o+4*c+3]}for(f[a-1][14]=8*(t.length-1)/Math.pow(2,32),f[a-1][14]=Math.floor(f[a-1][14]),f[a-1][15]=8*(t.length-1)&4294967295,o=0;o<a;o++){for(var u=new Array(80),l=0;l<16;l++)u[l]=f[o][l];for(l=16;l<80;l++)u[l]=g(u[l-3]^u[l-8]^u[l-14]^u[l-16],1);var s=r[0],p=r[1],h=r[2],y=r[3],v=r[4];for(l=0;l<80;l++){var d=Math.floor(l/20),m=g(s,5)+b(d,p,h,y)+v+e[d]+u[l]>>>0;v=y,y=h,h=g(p,30)>>>0,p=s,s=m}r[0]=r[0]+s>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]},w=(m=80,j=x,(O=function(t,e,r,n){var o=r&&n||0;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(t)),"string"==typeof e&&(e=function(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){e.push(parseInt(t,16))}),e}(e)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(e)||16!==e.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var i=j(e.concat(t));if(i[6]=15&i[6]|m,i[8]=63&i[8]|128,r)for(var a=0;a<16;++a)r[o+a]=i[a];return r||v(i)}).DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",O.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",O),k=/^[0-9a-f]{8}-[0-9a-f]{4}-[1][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,A=/^[0-9a-f]{8}-[0-9a-f]{4}-[2][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,L=/^[0-9a-f]{8}-[0-9a-f]{4}-[3][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,S=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,C=/^[0-9a-f]{8}-[0-9a-f]{4}-[5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,M=/^[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12}$/i,P=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;var T={v1:function(t){return k.test(t)},v2:function(t){return A.test(t)},v3:function(t){return L.test(t)},v4:function(t){return S.test(t)},v5:function(t){return C.test(t)},nil:function(t){return M.test(t)},anyNonNil:function(t){return P.test(t)}},R={genUUID_v4:function(){return d()},genUUID_v5:function(t){if(36!==(e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"f8061fba-842b-4cc5-9872-9348e2e06916").length)var e=w(e,"f8061fba-842b-4cc5-9872-9348e2e06916");return w(t,e)},genSHA1:function(t){return e=x(t),Array.from(e,function(t){return("0"+(255&t).toString(16)).slice(-2)}).join("");var e},formatUUID:function(t){var e="";return e+=(t=t.toLowerCase()).slice(0,8)+"-",e+=t.slice(8,12)+"-",e+=t.slice(12,16)+"-",e+=t.slice(16,20)+"-",e+=t.slice(20,36)},checkUUID:function(t){for(var e=[T.v4,T.v5,T.v3,T.v2,T.v1],r=[4,5,3,2,1],n=0;n<e.length;n++)if(e[n](t))return r[n];return 0},roll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(t-e+1)+e)},rollString:function(t,e){for(var r="",n=e||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<t;o++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}},U={},D={filterFileName:function(t,e){if(void 0!=t&&void 0!=t.length){return t=t.replace(/[\\/:*?"<>]/g,e||"")}return null}},E=s(function(t,e){var r=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},e.merge=function(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var i=t;return Array.isArray(t)&&!Array.isArray(n)&&(i=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e.merge(t[i],n,o):t.push(n):t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return r.call(t,i)?t[i]=e.merge(t[i],a,o):t[i]=a,t},i)},e.assign=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=e.charAt(o):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],a=Object.keys(i),f=0;f<a.length;++f){var c=a[f],u=i[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:i,prop:c}),r.push(u))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],o=0;o<e.length;++o)void 0!==e[o]&&n.push(e[o]);r.obj[r.prop]=n}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),N=(E.arrayToObject,E.merge,E.assign,E.decode,E.encode,E.compact,E.isRegExp,E.isBuffer,String.prototype.replace,Date.prototype.toISOString),z=(E.encode,Object.prototype.hasOwnProperty),I={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:E.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},B=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),a=i?n.slice(0,i.index):n,f=[];if(a){if(!r.plainObjects&&z.call(Object.prototype,a)&&!r.allowPrototypes)return;f.push(a)}for(var c=0;null!==(i=o.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&z.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(i[1])}return i&&f.push("["+n.slice(i.index)+"]"),function(t,e,r){for(var n=e,o=t.length-1;o>=0;--o){var i,a=t[o];if("[]"===a)i=(i=[]).concat(n);else{i=r.plainObjects?Object.create(null):{};var f="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(f,10);!isNaN(c)&&a!==f&&String(c)===f&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=n:i[f]=n}n=i}return n}(f,e,r)}},H=function(t,e){var r=e?E.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||E.isRegExp(r.delimiter)?r.delimiter:I.delimiter,r.depth="number"==typeof r.depth?r.depth:I.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:I.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:I.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:I.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:I.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:I.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:I.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:I.strictNullHandling,""===t||null===t||void 0===t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,i=n.split(e.delimiter,o),a=0;a<i.length;++a){var f,c,u=i[a],l=u.indexOf("]="),s=-1===l?u.indexOf("="):l+1;-1===s?(f=e.decoder(u,I.decoder),c=e.strictNullHandling?null:""):(f=e.decoder(u.slice(0,s),I.decoder),c=e.decoder(u.slice(s+1),I.decoder)),z.call(r,f)?r[f]=[].concat(r[f]).concat(c):r[f]=c}return r}(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var f=i[a],c=B(f,n[f],r);o=E.merge(o,c,r)}return E.compact(o)},$={removeQuery:function(t){return(t+="").replace(/\?.*$/,"")},getQuery:function(t,e){var r=/\?.*/.exec(t);if(r){var n=r[0];return e?H(n.slice(1)):n.slice(1)}},urlParse:function(){}},F={CacheObject:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;r(this,t),this.cacheOb={},this.keyList=[],this.keyListOffset=0,this.keyMap={},this.maxSize=e,this.blankSize=n,this.size=0}return n(t,[{key:"get",value:function(t){var e=this;if(void 0!==this.keyMap[t]){var r=this.keyMap[t]+this.keyListOffset;this.keyList[r]=void 0,this.keyList.push(t);var n=this.keyList.length-1;this.keyMap[t]=n-this.keyListOffset}return this.keyList.length>200&&setTimeout(function(){e.reMap()},0),this.cacheOb[t]}},{key:"set",value:function(t,e){this.size++,this.size>this.maxSize&&this.eliminate(),this.keyList.push(t);var r=this.keyList.length-1;return void 0!==this.keyMap[t]&&(this.keyList[this.keyMap[t]+this.keyListOffset]=void 0,this.size--),this.keyMap[t]=r-this.keyListOffset,this.cacheOb[t]=e}},{key:"eliminate",value:function(){for(var t=0,e=0;e<this.blankSize;t++){var r=this.keyList.shift();this.keyListOffset--,void 0!==r&&(delete this.cacheOb[r],delete this.keyMap[r],this.size--,e++)}}},{key:"reMap",value:function(){for(var t=[],e=0;e<this.keyList.length;e++){var r=this.keyList[e];void 0!==r&&t.push(r)}this.keyList=t,this.keyListOffset=0;for(e=0;e<this.keyList.length;e++){var n=this.keyList[e];this.keyMap[n]=e}}},{key:"clear",value:function(){this.cacheOb={},this.keyList=[],this.keyMap={},this.keyListOffset=0,this.size=0}}]),t}()},_={Object:i,String:a,Type:f,Array:c,Rect:u,Console:l,Tool:R,File:D,Calc:U,Url:$,Cache:F};t.Object=i,t.String=a,t.Type=f,t.Array=c,t.Rect=u,t.Console=l,t.Tool=R,t.File=D,t.Calc=U,t.Url=$,t.Cache=F,t.default=_,Object.defineProperty(t,"__esModule",{value:!0})});
