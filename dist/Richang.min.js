!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.Richang=r()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={isEmptyObject:function(t){for(var r in t)return!1;return!0},objectCopyToObject:function(r,e,n,o,i,u){if(void 0!=e)for(var f in r){void 0!=u&&u(r,e,f);void 0!=n&&n(f,r[f]);var l=f;void 0!=o&&(l=o(f,r[f])),void 0!=r[f]&&r[f].constructor===Object?("object"!==t(e[l])&&(e[l]={}),this.objectCopyToObject(r[f],e[l],n,o,i)):e[l]=void 0!=i?i(f,r[f]):r[f]}},getObjectValueByNames:function(t,r,e){for(var n,o=0;o<r.length-(e||0);o++)if(0==o){if(void 0==t[r[o]])return null;n=t[r[o]]}else{if(void 0==n[r[o]])return null;n=n[r[o]]}return n},setObjectValueByNames:function(t,r,e){var n;if(1!=r.length){for(var o=0;o<r.length;o++)if(0==o&&r.length>2)void 0==t[r[0]]&&(t[r[0]]={}),n=t[r[0]];else if(o<r.length-2&&r.length>2)void 0==n[r[o]]&&(n[r[o]]={}),n=n[r[o]];else if(o==r.length-2)return 2==r.length?(void 0==t[r[0]]&&(t[r[0]]={}),void((n=t[r[0]])[r[1]]=e)):(void 0==n[r[o]]&&(n[r[o]]={}),void((n=n[r[o]])[r[o+1]]=e))}else t[r[0]]=e},treeFind:function(t,r,e,n,o){if("function"==typeof r)var i=r;else i=function(t){return t.id==r};var u=function t(r,e,n,o,u){for(var f=[],l=[],c=0;c<r.length;c++){var v=r[c];if(i(v)&&(f.push(v),!o))return f;if(v[n])if(u){var a=t(v[n],e,n,o,u);if(!o&&a.length>0)return a;f=f.concat(a)}else l.push(v[n])}if(!u)for(c=0;c<l.length;c++){if(a=t(l[c],e,n,o,u),!o&&a.length>0)return a;f=f.concat(a)}return f}(t,i,e,n,o);return n?u:u.length>0?u[0]:null},treeEach:function(t,r,e,n){var o=[],i=0,u=0;return r||(r=function(t){}),function t(r,e,n,f,l){l>u&&(u=l);var c=[];for(var v=0;v<r.length;v++){i++,void 0==o[l]?o[l]=1:o[l]++;var a=r[v];if(e(a,l,o[l],i))return;if(a[n])if(f){var h=t(a[n],e,n,f,l+1);if(h)return}else c.push(a[n])}if(!f)for(var v=0;v<c.length;v++){var h=t(c[v],e,n,f,l+1);if(h)return}return}(t,r,e,n,0),{struct:o,deep:u+1,total:i}}},e={left:function(t,r){return r>=0?t.substr(0,r):this.right(t,-r)},right:function(t,r){return r>=0?t.substr(t.length-r,r):this.left(t,-r)},insert:function(t,r,e,n){return t.slice(0,r)+n+t.slice(r+Math.abs(e))}},n={getType:function(r){var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};return null===r?"null":void 0===r?"undefined":"object"===(void 0===r?"undefined":t(r))||"function"==typeof r?e[e.toString.call(r)]||"object":void 0===r?"undefined":t(r)}},o={symDifference:function(t,r){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;for(n=0;n<r.length;n++)void 0==e[r[n]]?e[r[n]]=!0:e[r[n]]=!1;var o=[];for(var i in e)0!=e[i]&&o.push(i);return o},symDifference_ObjectArray:function(t,r,e){for(var n={},o=0;o<t.length;o++)n[t[o][e]]={is:!0,ob:t[o]};for(o=0;o<r.length;o++)void 0==n[r[o][e]]?n[r[o][e]]={is:!0,ob:r[o]}:n[r[o][e]]={is:!1};var i=[];for(var u in n)0!=n[u].is&&i.push(n[u].ob);return i},difference:function(t,r){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;for(n=0;n<r.length;n++)void 0!=e[r[n]]&&(e[r[n]]=!1);var o=[];for(var i in e)0!=e[i]&&o.push(i);return o},union:function(t,r){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;for(n=0;n<r.length;n++)void 0==e[r[n]]&&(e[r[n]]=!0);var o=[];for(var i in e)0!=e[i]&&o.push(i);return o},intersection:function(t,r){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;for(n=0;n<r.length;n++)void 0!=e[r[n]]&&(e[r[n]]=!0);var o=[];for(var i in e)0!=e[i]&&o.push(i);return o},remove:function(t,r,e){if(e);else t=t.slice(0,t.length);for(var n=0;n<t.length;n++)r.constructor==Function?r(t[n])&&(t.splice(n,1),n--):t[n]==r&&(t.splice(n,1),n--);return t},hasMember:function(t,r,e){if(void 0==e){for(var n=0;n<t.length;n++)if(t[n]==r)return!0;return!1}for(n=0;n<t.length;n++)if(e(t[n],r))return!0;return!1},getByKey:function(t,r,e,n){for(var o=0;o<t.length;o++)if(void 0!=t[o][r])if(void 0!=n){if(n(t[o][r],e))return t[o]}else if(t[o][r]==e)return t[o]},deleteByKey:function(t,r,e,n){for(var o=0;o<t.length;o++)void 0!=t[o][r]&&(void 0!=n?n(t[o][r],e)&&t.splice(o,1):t[o][r]==e&&t.splice(o,1))},sortObjectArray:function(r,e,n){if(void 0!=r&&void 0!=r.sort)return r.sort((o=e,function(r,e){var i,u;if("object"===(void 0===r?"undefined":t(r))&&"object"===(void 0===e?"undefined":t(e))&&r&&e)return i=r[o],u=e[o],i===u?0:(void 0===i?"undefined":t(i))===(void 0===u?"undefined":t(u))?n?i>u?-1:1:i<u?-1:1:(void 0===i?"undefined":t(i))<(void 0===u?"undefined":t(u))?-1:1;throw"error"}));var o}},i={rltb2xywh:function(t){var r={x:null,y:null,w:null,h:null};return r.x=t.left,r.y=t.top,r.h=t.bottom-t.top,r.w=t.right-t.left,r},xywh2rltb:function(t){var r={left:null,right:null,top:null,bottom:null};return r.left=t.x,r.top=t.y,r.right=t.x+t.w,r.bottom=t.y+t.h,r},paddingXywh:function(t,r){var e=i.xywh2rltb(t);return r.length&&4==r.length?(e.left-=r[0],e.top-=r[1],e.right+=r[2],e.bottom+=r[3],i.rltb2xywh(e)):(e.left-=r,e.top-=r,e.right+=r,e.bottom+=r,i.rltb2xywh(e))},getXywhsRange:function(t){for(var r={left:null,right:null,top:null,bottom:null},e=0;e<t.length;e++){var n=i.xywh2rltb(t[e]);void 0==r.left&&(r.left=n.left),void 0==r.top&&(r.top=n.top),void 0==r.right&&(r.right=n.right),void 0==r.bottom&&(r.bottom=n.bottom),n.left<r.left&&(r.left=n.left),n.top<r.top&&(r.top=n.top),n.right>r.right&&(r.right=n.right),n.bottom>r.bottom&&(r.bottom=n.bottom)}return i.rltb2xywh(r)},moveXywhs:function(t,r){for(var e=i.getXywhsRange(t),n=0;n<t.length;n++){var o=t[n];o.x=r.x+o.x-e.x,o.y=r.y+o.y-e.y}return t},xywhHasCover:function(t,r){var e=i.xywh2rltb(t),n=i.xywh2rltb(r);return!!(e.left<=n.right&&e.right>=n.left&&e.top<=n.bottom&&e.bottom>=n.top)}},u=require("uuid/v4"),f=require("uuid/v5"),l=require("is-uuid"),c=require("uuid/lib/sha1-browser.js");return{Object:r,String:e,Type:n,Array:o,Rect:i,Console:{CSS_POST:"background: rgb(44, 132, 226);border-radius: 2px 25px 25px 2px;padding: 2px 8px;color: rgba(255, 255, 255, 1);display: inline-block;min-width: 100px;",CSS_POST_RESULT:"background: rgb(51, 197, 138);border-radius: 25px 2px 2px 25px;padding: 2px 8px;color: rgba(255, 255, 255, 1);display: inline-block;min-width: 100px;"},Tool:{genUUID_v4:function(){return u()},genUUID_v5:function(t){if(36!==(r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"f8061fba-842b-4cc5-9872-9348e2e06916").length)var r=f(r,"f8061fba-842b-4cc5-9872-9348e2e06916");return f(t,r)},genSHA1:function(t){return r=c(t),Array.from(r,function(t){return("0"+(255&t).toString(16)).slice(-2)}).join("");var r},formatUUID:function(t){var r="";return r+=(t=t.toLowerCase()).slice(0,8)+"-",r+=t.slice(8,12)+"-",r+=t.slice(12,16)+"-",r+=t.slice(16,20)+"-",r+=t.slice(20,36)},checkUUID:function(t){for(var r=[l.v4,l.v5,l.v3,l.v2,l.v1],e=[4,5,3,2,1],n=0;n<r.length;n++)if(r[n](t))return e[n];return 0},roll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(t-r+1)+r)},rollString:function(t,r){for(var e="",n=r||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}},File:{filterFileName:function(t,r){if(void 0!=t&&void 0!=t.length){return t=t.replace(/[\\/:*?"<>]/g,r||"")}return null}},Calc:{}}});
