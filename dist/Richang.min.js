!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.Richang={})}(this,function(r){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n=function(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)},e={isEmptyObject:function(r){for(var t in r)return!1;return!0},objectCopyToObject:function(r,n,e,o,i,f){if(void 0!=n)for(var a in r){void 0!=f&&f(r,n,a);void 0!=e&&e(a,r[a]);var u=a;void 0!=o&&(u=o(a,r[a])),void 0!=r[a]&&r[a].constructor===Object?("object"!==t(n[u])&&(n[u]={}),this.objectCopyToObject(r[a],n[u],e,o,i)):n[u]=void 0!=i?i(a,r[a]):r[a]}},getObjectValueByNames:function(r,t,n){for(var e,o=0;o<t.length-(n||0);o++)if(0==o){if(void 0==r[t[o]])return null;e=r[t[o]]}else{if(void 0==e[t[o]])return null;e=e[t[o]]}return e},setObjectValueByNames:function(r,t,n){var e;if(1!=t.length){for(var o=0;o<t.length;o++)if(0==o&&t.length>2)void 0==r[t[0]]&&(r[t[0]]={}),e=r[t[0]];else if(o<t.length-2&&t.length>2)void 0==e[t[o]]&&(e[t[o]]={}),e=e[t[o]];else if(o==t.length-2)return 2==t.length?(void 0==r[t[0]]&&(r[t[0]]={}),void((e=r[t[0]])[t[1]]=n)):(void 0==e[t[o]]&&(e[t[o]]={}),void((e=e[t[o]])[t[o+1]]=n))}else r[t[0]]=n},treeFind:function(r,t,n,e,o){if("function"==typeof t)var i=t;else i=function(r){return r.id==t};var f=function r(t,n,e,o,f){for(var a=[],u=[],l=0;l<t.length;l++){var c=t[l];if(i(c)&&(a.push(c),!o))return a;if(c[e])if(f){var v=r(c[e],n,e,o,f);if(!o&&v.length>0)return v;a=a.concat(v)}else u.push(c[e])}if(!f)for(l=0;l<u.length;l++){if(v=r(u[l],n,e,o,f),!o&&v.length>0)return v;a=a.concat(v)}return a}(r,i,n,e,o);return e?f:f.length>0?f[0]:null},treeEach:function(r,t,n,e){var o=[],i=0,f=0;return t||(t=function(r){}),function r(t,n,e,a,u){u>f&&(f=u);var l=[];for(var c=0;c<t.length;c++){i++,void 0==o[u]?o[u]=1:o[u]++;var v=t[c];if(n(v,u,o[u],i,t,c))return;if(v[e])if(a){var h=r(v[e],n,e,a,u+1);if(h)return}else l.push(v[e])}if(!a)for(var c=0;c<l.length;c++){var h=r(l[c],n,e,a,u+1);if(h)return}return}(r,t,n,e,0),{struct:o,deep:f+1,total:i}},pathEach:function(r,e){!function r(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var a in o){var u=o[a],l=[].concat(n(i),[a]);e(u,l,f),"object"===(void 0===u?"undefined":t(u))&&r(u,l,f+1)}}(r,[],0)}},o={left:function(r,t){return t>=0?r.substr(0,t):this.right(r,-t)},right:function(r,t){return t>=0?r.substr(r.length-t,t):this.left(r,-t)},insert:function(r,t,n,e){return r.slice(0,t)+e+r.slice(t+Math.abs(n))}},i={getType:function(r){var n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};return null===r?"null":void 0===r?"undefined":"object"===(void 0===r?"undefined":t(r))||"function"==typeof r?n[n.toString.call(r)]||"object":void 0===r?"undefined":t(r)}},f={symDifference:function(r,t){for(var n={},e=0;e<r.length;e++)n[r[e]]=!0;for(e=0;e<t.length;e++)void 0==n[t[e]]?n[t[e]]=!0:n[t[e]]=!1;var o=[];for(var i in n)0!=n[i]&&o.push(i);return o},symDifference_ObjectArray:function(r,t,n){for(var e={},o=0;o<r.length;o++)e[r[o][n]]={is:!0,ob:r[o]};for(o=0;o<t.length;o++)void 0==e[t[o][n]]?e[t[o][n]]={is:!0,ob:t[o]}:e[t[o][n]]={is:!1};var i=[];for(var f in e)0!=e[f].is&&i.push(e[f].ob);return i},difference:function(r,t){for(var n={},e=0;e<r.length;e++)n[r[e]]=!0;for(e=0;e<t.length;e++)void 0!=n[t[e]]&&(n[t[e]]=!1);var o=[];for(var i in n)0!=n[i]&&o.push(i);return o},union:function(r,t){for(var n={},e=0;e<r.length;e++)n[r[e]]=!0;for(e=0;e<t.length;e++)void 0==n[t[e]]&&(n[t[e]]=!0);var o=[];for(var i in n)0!=n[i]&&o.push(i);return o},intersection:function(r,t){for(var n={},e=0;e<r.length;e++)n[r[e]]=!1;for(e=0;e<t.length;e++)void 0!=n[t[e]]&&(n[t[e]]=!0);var o=[];for(var i in n)0!=n[i]&&o.push(i);return o},remove:function(r,t,n){if(n);else r=r.slice(0,r.length);for(var e=0;e<r.length;e++)t.constructor==Function?t(r[e])&&(r.splice(e,1),e--):r[e]==t&&(r.splice(e,1),e--);return r},hasMember:function(r,t,n){if(void 0==n){for(var e=0;e<r.length;e++)if(r[e]==t)return!0;return!1}for(e=0;e<r.length;e++)if(n(r[e],t))return!0;return!1},getByKey:function(r,t,n,e){for(var o=0;o<r.length;o++)if(void 0!=r[o][t])if(void 0!=e){if(e(r[o][t],n))return r[o]}else if(r[o][t]==n)return r[o]},deleteByKey:function(r,t,n,e){for(var o=0;o<r.length;o++)void 0!=r[o][t]&&(void 0!=e?e(r[o][t],n)&&r.splice(o,1):r[o][t]==n&&r.splice(o,1))},sortObjectArray:function(r,n,e){if(void 0!=r&&void 0!=r.sort)return r.sort((o=n,function(r,n){var i,f;if("object"===(void 0===r?"undefined":t(r))&&"object"===(void 0===n?"undefined":t(n))&&r&&n)return i=r[o],f=n[o],i===f?0:(void 0===i?"undefined":t(i))===(void 0===f?"undefined":t(f))?e?i>f?-1:1:i<f?-1:1:(void 0===i?"undefined":t(i))<(void 0===f?"undefined":t(f))?-1:1;throw"error"}));var o}},a={rltb2xywh:function(r){var t={x:null,y:null,w:null,h:null};return t.x=r.left,t.y=r.top,t.h=r.bottom-r.top,t.w=r.right-r.left,t},xywh2rltb:function(r){var t={left:null,right:null,top:null,bottom:null};return t.left=r.x,t.top=r.y,t.right=r.x+r.w,t.bottom=r.y+r.h,t},paddingXywh:function(r,t){var n=a.xywh2rltb(r);return t.length&&4==t.length?(n.left-=t[0],n.top-=t[1],n.right+=t[2],n.bottom+=t[3],a.rltb2xywh(n)):(n.left-=t,n.top-=t,n.right+=t,n.bottom+=t,a.rltb2xywh(n))},getXywhsRange:function(r){for(var t={left:null,right:null,top:null,bottom:null},n=0;n<r.length;n++){var e=a.xywh2rltb(r[n]);void 0==t.left&&(t.left=e.left),void 0==t.top&&(t.top=e.top),void 0==t.right&&(t.right=e.right),void 0==t.bottom&&(t.bottom=e.bottom),e.left<t.left&&(t.left=e.left),e.top<t.top&&(t.top=e.top),e.right>t.right&&(t.right=e.right),e.bottom>t.bottom&&(t.bottom=e.bottom)}return a.rltb2xywh(t)},moveXywhs:function(r,t){for(var n=a.getXywhsRange(r),e=0;e<r.length;e++){var o=r[e];o.x=t.x+o.x-n.x,o.y=t.y+o.y-n.y}return r},xywhHasCover:function(r,t){var n=a.xywh2rltb(r),e=a.xywh2rltb(t);return!!(n.left<=e.right&&n.right>=e.left&&n.top<=e.bottom&&n.bottom>=e.top)}},u={CSS_POST:"background: rgb(44, 132, 226);border-radius: 2px 25px 25px 2px;padding: 2px 8px;color: rgba(255, 255, 255, 1);display: inline-block;min-width: 100px;",CSS_POST_RESULT:"background: rgb(51, 197, 138);border-radius: 25px 2px 2px 25px;padding: 2px 8px;color: rgba(255, 255, 255, 1);display: inline-block;min-width: 100px;"};for(var l,c=(function(r){var t="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);r.exports=function(){return t(n),n}}else{var e=new Array(16);r.exports=function(){for(var r,t=0;t<16;t++)0==(3&t)&&(r=4294967296*Math.random()),e[t]=r>>>((3&t)<<3)&255;return e}}}(l={exports:{}},l.exports),l.exports),v=[],h=0;h<256;++h)v[h]=(h+256).toString(16).substr(1);var d=function(r,t){var n=t||0,e=v;return e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+"-"+e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[n++]]+e[r[n++]]};var s=function(r,t,n){var e=t&&n||0;"string"==typeof r&&(t="binary"===r?new Array(16):null,r=null);var o=(r=r||{}).random||(r.rng||c)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[e+i]=o[i];return t||d(o)};function g(r,t,n,e){switch(r){case 0:return t&n^~t&e;case 1:return t^n^e;case 2:return t&n^t&e^n&e;case 3:return t^n^e}}function b(r,t){return r<<t|r>>>32-t}var p,y,m,x=function(r){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof r){var e=unescape(encodeURIComponent(r));r=new Array(e.length);for(var o=0;o<e.length;o++)r[o]=e.charCodeAt(o)}r.push(128);var i=r.length/4+2,f=Math.ceil(i/16),a=new Array(f);for(o=0;o<f;o++){a[o]=new Array(16);for(var u=0;u<16;u++)a[o][u]=r[64*o+4*u]<<24|r[64*o+4*u+1]<<16|r[64*o+4*u+2]<<8|r[64*o+4*u+3]}for(a[f-1][14]=8*(r.length-1)/Math.pow(2,32),a[f-1][14]=Math.floor(a[f-1][14]),a[f-1][15]=8*(r.length-1)&4294967295,o=0;o<f;o++){for(var l=new Array(80),c=0;c<16;c++)l[c]=a[o][c];for(c=16;c<80;c++)l[c]=b(l[c-3]^l[c-8]^l[c-14]^l[c-16],1);var v=n[0],h=n[1],d=n[2],s=n[3],p=n[4];for(c=0;c<80;c++){var y=Math.floor(c/20),m=b(v,5)+g(y,h,d,s)+p+t[y]+l[c]>>>0;p=s,s=d,d=b(h,30)>>>0,h=v,v=m}n[0]=n[0]+v>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+d>>>0,n[3]=n[3]+s>>>0,n[4]=n[4]+p>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]},w=(p=80,y=x,(m=function(r,t,n,e){var o=n&&e||0;if("string"==typeof r&&(r=function(r){r=unescape(encodeURIComponent(r));for(var t=new Array(r.length),n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}(r)),"string"==typeof t&&(t=function(r){var t=[];return r.replace(/[a-fA-F0-9]{2}/g,function(r){t.push(parseInt(r,16))}),t}(t)),!Array.isArray(r))throw TypeError("value must be an array of bytes");if(!Array.isArray(t)||16!==t.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var i=y(t.concat(r));if(i[6]=15&i[6]|p,i[8]=63&i[8]|128,n)for(var f=0;f<16;++f)n[o+f]=i[f];return n||d(i)}).DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",m.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",m),j=/^[0-9a-f]{8}-[0-9a-f]{4}-[1][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,A=/^[0-9a-f]{8}-[0-9a-f]{4}-[2][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,S=/^[0-9a-f]{8}-[0-9a-f]{4}-[3][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,C=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,O=/^[0-9a-f]{8}-[0-9a-f]{4}-[5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,U=/^[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12}$/i,M=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;var R={v1:function(r){return j.test(r)},v2:function(r){return A.test(r)},v3:function(r){return S.test(r)},v4:function(r){return C.test(r)},v5:function(r){return O.test(r)},nil:function(r){return U.test(r)},anyNonNil:function(r){return M.test(r)}},T={genUUID_v4:function(){return s()},genUUID_v5:function(r){if(36!==(t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"f8061fba-842b-4cc5-9872-9348e2e06916").length)var t=w(t,"f8061fba-842b-4cc5-9872-9348e2e06916");return w(r,t)},genSHA1:function(r){return t=x(r),Array.from(t,function(r){return("0"+(255&r).toString(16)).slice(-2)}).join("");var t},formatUUID:function(r){var t="";return t+=(r=r.toLowerCase()).slice(0,8)+"-",t+=r.slice(8,12)+"-",t+=r.slice(12,16)+"-",t+=r.slice(16,20)+"-",t+=r.slice(20,36)},checkUUID:function(r){for(var t=[R.v4,R.v5,R.v3,R.v2,R.v1],n=[4,5,3,2,1],e=0;e<t.length;e++)if(t[e](r))return n[e];return 0},roll:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(r-t+1)+t)},rollString:function(r,t){for(var n="",e=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<r;o++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}},D={},E={filterFileName:function(r,t){if(void 0!=r&&void 0!=r.length){return r=r.replace(/[\\/:*?"<>]/g,t||"")}return null}},F={Object:e,String:o,Type:i,Array:f,Rect:a,Console:u,Tool:T,File:E,Calc:D};r.Object=e,r.String=o,r.Type=i,r.Array=f,r.Rect=a,r.Console=u,r.Tool=T,r.File=E,r.Calc=D,r.default=F,Object.defineProperty(r,"__esModule",{value:!0})});
