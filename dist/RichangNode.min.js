"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},objectOBJ={isEmptyObject:function(t){for(var e in t)return!1;return!0},objectCopyToObject:function(t,e,o,r,n,i){if(void 0!=e)for(var f in t){void 0!=i&&i(t,e,f);void 0!=o&&o(f,t[f]);var l=f;void 0!=r&&(l=r(f,t[f])),void 0!=t[f]&&t[f].constructor===Object?("object"!==_typeof(e[l])&&(e[l]={}),this.objectCopyToObject(t[f],e[l],o,r,n)):e[l]=void 0!=n?n(f,t[f]):t[f]}},getObjectValueByNames:function(t,e,o){for(var r,n=0;n<e.length-(o||0);n++)if(0==n){if(void 0==t[e[n]])return null;r=t[e[n]]}else{if(void 0==r[e[n]])return null;r=r[e[n]]}return r},setObjectValueByNames:function(t,e,o){var r;if(1!=e.length){for(var n=0;n<e.length;n++)if(0==n&&e.length>2)void 0==t[e[0]]&&(t[e[0]]={}),r=t[e[0]];else if(n<e.length-2&&e.length>2)void 0==r[e[n]]&&(r[e[n]]={}),r=r[e[n]];else if(n==e.length-2)return 2==e.length?(void 0==t[e[0]]&&(t[e[0]]={}),void((r=t[e[0]])[e[1]]=o)):(void 0==r[e[n]]&&(r[e[n]]={}),void((r=r[e[n]])[e[n+1]]=o))}else t[e[0]]=o}},stringSTR={left:function(t,e){return e>=0?t.substr(0,e):this.right(t,-e)},right:function(t,e){return e>=0?t.substr(t.length-e,e):this.left(t,-e)},insert:function(t,e,o,r){return t.slice(0,e)+r+t.slice(e+Math.abs(o))}},typeTYP={getType:function(t){var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};return null===t?"null":void 0===t?"undefined":"object"===(void 0===t?"undefined":_typeof(t))||"function"==typeof t?e[e.toString.call(t)]||"object":void 0===t?"undefined":_typeof(t)}},arrayARR={symDifference:function(t,e){for(var o={},r=0;r<t.length;r++)o[t[r]]=!0;for(r=0;r<e.length;r++)void 0==o[e[r]]?o[e[r]]=!0:o[e[r]]=!1;var n=[];for(var i in o)0!=o[i]&&n.push(i);return n},symDifference_ObjectArray:function(t,e,o){for(var r={},n=0;n<t.length;n++)r[t[n][o]]={is:!0,ob:t[n]};for(n=0;n<e.length;n++)void 0==r[e[n][o]]?r[e[n][o]]={is:!0,ob:e[n]}:r[e[n][o]]={is:!1};var i=[];for(var f in r)0!=r[f].is&&i.push(r[f].ob);return i},difference:function(t,e){for(var o={},r=0;r<t.length;r++)o[t[r]]=!0;for(r=0;r<e.length;r++)void 0!=o[e[r]]&&(o[e[r]]=!1);var n=[];for(var i in o)0!=o[i]&&n.push(i);return n},union:function(t,e){for(var o={},r=0;r<t.length;r++)o[t[r]]=!0;for(r=0;r<e.length;r++)void 0==o[e[r]]&&(o[e[r]]=!0);var n=[];for(var i in o)0!=o[i]&&n.push(i);return n},intersection:function(t,e){for(var o={},r=0;r<t.length;r++)o[t[r]]=!1;for(r=0;r<e.length;r++)void 0!=o[e[r]]&&(o[e[r]]=!0);var n=[];for(var i in o)0!=o[i]&&n.push(i);return n},remove:function(t,e,o){if(o);else t=t.slice(0,t.length);for(var r=0;r<t.length;r++)e.constructor==Function?e(t[r])&&(t.splice(r,1),r--):t[r]==e&&(t.splice(r,1),r--);return t},hasMember:function(t,e,o){if(void 0==o){for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1}for(r=0;r<t.length;r++)if(o(t[r],e))return!0;return!1},getByKey:function(t,e,o,r){for(var n=0;n<t.length;n++)if(void 0!=t[n][e])if(void 0!=r){if(r(t[n][e],o))return t[n]}else if(t[n][e]==o)return t[n]},deleteByKey:function(t,e,o,r){for(var n=0;n<t.length;n++)void 0!=t[n][e]&&(void 0!=r?r(t[n][e],o)&&t.splice(n,1):t[n][e]==o&&t.splice(n,1))},sortObjectArray:function(t,e,o){if(void 0!=t&&void 0!=t.sort)return t.sort((r=e,function(t,e){var n,i;if("object"===(void 0===t?"undefined":_typeof(t))&&"object"===(void 0===e?"undefined":_typeof(e))&&t&&e)return n=t[r],i=e[r],n===i?0:(void 0===n?"undefined":_typeof(n))===(void 0===i?"undefined":_typeof(i))?o?n>i?-1:1:n<i?-1:1:(void 0===n?"undefined":_typeof(n))<(void 0===i?"undefined":_typeof(i))?-1:1;throw"error"}));var r}},Rect={rltb2xywh:function(t){var e={x:null,y:null,w:null,h:null};return e.x=t.left,e.y=t.top,e.h=t.bottom-t.top,e.w=t.right-t.left,e},xywh2rltb:function(t){var e={left:null,right:null,top:null,bottom:null};return e.left=t.x,e.top=t.y,e.right=t.x+t.w,e.bottom=t.y+t.h,e},paddingXywh:function(t,e){var o=Rect.xywh2rltb(t);return e.length&&4==e.length?(o.left-=e[0],o.top-=e[1],o.right+=e[2],o.bottom+=e[3],Rect.rltb2xywh(o)):(o.left-=e,o.top-=e,o.right+=e,o.bottom+=e,Rect.rltb2xywh(o))},getXywhsRange:function(t){for(var e={left:null,right:null,top:null,bottom:null},o=0;o<t.length;o++){var r=Rect.xywh2rltb(t[o]);void 0==e.left&&(e.left=r.left),void 0==e.top&&(e.top=r.top),void 0==e.right&&(e.right=r.right),void 0==e.bottom&&(e.bottom=r.bottom),r.left<e.left&&(e.left=r.left),r.top<e.top&&(e.top=r.top),r.right>e.right&&(e.right=r.right),r.bottom>e.bottom&&(e.bottom=r.bottom)}return Rect.rltb2xywh(e)},moveXywhs:function(t,e){for(var o=Rect.getXywhsRange(t),r=0;r<t.length;r++){var n=t[r];n.x=e.x+n.x-o.x,n.y=e.y+n.y-o.y}return t},xywhHasCover:function(t,e){var o=Rect.xywh2rltb(t),r=Rect.xywh2rltb(e);return!!(o.left<=r.right&&o.right>=r.left&&o.top<=r.bottom&&o.bottom>=r.top)}},fileFIL={},fs=require("fs");fileFIL.filterFileName=function(t,e){if(void 0!=t&&void 0!=t.length){return t=t.replace(/[\\/:*?"<>]/g,e||"")}return null};var RichangNode={Object:objectOBJ,String:stringSTR,Type:typeTYP,Array:arrayARR,Rect:Rect,File:fileFIL};module.exports=RichangNode;
